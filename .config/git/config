[core]
	autocrlf = input
	pager = diff-so-fancy | less -RFX
	# I don't think the below is required but sourcetree needs it.
	excludesfile = /Users/dave/.gitignore_global
[alias]
	# Graphs/Charts
	st = status --short --branch
	lg = log --graph --topo-order --abbrev-commit --date=short --decorate --all --boundary --pretty=format:'%Cgreen%ar %Cred%h%Creset -%C(yellow)%d%Creset %s %Cblue[%cn]%Creset'

	# Another diff option
	df = diff --color-words

	# Show the diff between the latest commit and the current state
	d = !"git diff-index --quiet HEAD -- || clear; git --no-pager diff --patch-with-stat"
	gg = grep --break --heading --line-number
	f = "!git ls-files | grep -i"
	count = !git shortlog -sn
	pup = !git pull && git submodule init && git submodule update && git submodule status

	# Search all commits
	grep-all = !"git rev-list --all | xargs git grep '$1'"

	# Merging
	ours = "!f() { git checkout --ours $@ && git add $@; }; f"
	theirs = "!f() { git checkout --theirs $@ && git add $@; }; f"

	# Shortcuts
	br = branch
	rl = reflog
	co = checkout
	st = status -s
	all = add -A
[color]
	diff = auto
	status = auto
	branch = auto
	ui = always
[color "branch"]
	local = yellow
[color "status"]
	untracked = cyan
[diff]
	compactionHeuristic = true
	indentHeuristic = true
	tool = meld
[difftool]
	prompt = false
[difftool "meld"]
	cmd = /Applications/Meld.app/Contents/MacOS/Meld \"$LOCAL\" \"$PWD/$REMOTE\"
	trustExitCode = true
[merge]
	prompt = false
	tool = meld
[mergetool "meld"]
	trustExitCode = true
	cmd = open -W -a Meld --args --auto-merge \"$PWD/$LOCAL\" \"$PWD/$BASE\" \"$PWD/$REMOTE\" --output=\"$PWD/$MERGED\"
	keepBackup = false
# Sourcetree wants this set.
[difftool "sourcetree"]
	cmd = opendiff \"$LOCAL\" \"$REMOTE\"
	path = 
[mergetool "sourcetree"]
	cmd = /Applications/SourceTree.app/Contents/Resources/opendiff-w.sh \"$LOCAL\" \"$REMOTE\" -ancestor \"$BASE\" -merge \"$MERGED\"
	trustExitCode = true
# rewrites of repo paths
[url "git@github.com:"]
	insteadOf = "gh:"
	insteadOf = "git://github.com"
	pushInsteadOf = "github:"
	pushInsteadOf = "git://github.com/"
	pushInsteadOf = "https://github.com/"
[url "git@gist.github.com:"]
	insteadOf = "gst:"
	pushInsteadOf = "gist:"
	pushInsteadOf = "git://gist.github.com/"
	pushInsteadOf = "https://gist.github.com/"
[push]
	default = current
[pager]
	show = diff-so-fancy | less --tabs=4 -RFX
	log = diff-so-fancy | less --tabs=4 -RFX
[rebase]
	autoStash = true
[pull]
	rebase = true
[ghq]
	root = ~/dev/src
	root = ~/dev/go/src
[rerere]
	enabled = 1
[merge]
	conflictstyle = diff3
[mergetool]
	keepBackup = false
[interactive]
	diffFilter = diff-so-fancy --patch-mode | less -RFX
[include]
	path = config_local
