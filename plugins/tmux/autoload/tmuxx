#!/usr/bin/env zsh

is_ssh_running && return

if [ ! -z "$TMUX" ]; then
    echo ' _____ __  __ _   ___  __ '
    echo '|_   _|  \/  | | | \ \/ / '
    echo '  | | | |\/| | | | |\  /  '
    echo '  | | | |  | | |_| |/  \  '
    echo '  |_| |_|  |_|\___//_/\_\ '
    export DISPLAY="$TMUX"
elif [ ! -z "$STY" ]; then
    # For GNU screen
    :
else
    local num_clients="$(tmux lsc -t base -F '#{session_attached}' 2>/dev/null)"
    if [[ $num_clients -le 0 ]]; then
        tmux new -As base
    fi
fi
