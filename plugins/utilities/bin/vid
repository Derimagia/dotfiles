#!/usr/bin/env zsh
emulate -L zsh

# Try to pase it in youtube-dl
local stream_url
stream_url="$(youtube-dl -g "$1" 2>/dev/null)"

if [[ -z $stream_url ]]; then
    ink -c red "Could not parse argument: $1"
    return 1
fi

# Start VLC
# Interfaces https://wiki.videolan.org/Interfaces/
vlc -q macosx --video-on-top --no-osd --no-video-deco --no-embedded-video --width=500 \
    --open $stream_url &!
